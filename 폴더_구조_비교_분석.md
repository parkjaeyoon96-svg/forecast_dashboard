# ğŸ“ í´ë” êµ¬ì¡° ë¹„êµ ë¶„ì„

## ğŸ¯ ì œì•ˆëœ êµ¬ì¡°: ì›”ë³„ í†µí•© êµ¬ì¡°

```
raw/
â”œâ”€â”€ 202511/                          # 2025ë…„ 11ì›”
â”‚   â”œâ”€â”€ present/                     # ë‹¹ë…„ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ 20251117/
â”‚   â”‚   â”‚   â””â”€â”€ ke30_20251117_202511_ì „ì²˜ë¦¬ì™„ë£Œ.csv
â”‚   â”‚   â””â”€â”€ 20251124/
â”‚   â”‚       â””â”€â”€ ke30_20251124_202511_ì „ì²˜ë¦¬ì™„ë£Œ.csv
â”‚   â”œâ”€â”€ previous/                    # ì „ë…„ ë°ì´í„° (ì›”ë³„ 1ê°œ)
â”‚   â”‚   â””â”€â”€ ke30_prev_202411_ì „ì²˜ë¦¬ì™„ë£Œ.csv
â”‚   â””â”€â”€ plan/                        # ê³„íš ë°ì´í„° (ì›”ë³„ 1ê°œ)
â”‚       â””â”€â”€ plan_202511_ì „ì²˜ë¦¬ì™„ë£Œ.csv
â”‚
â””â”€â”€ 202512/                          # 2025ë…„ 12ì›”
    â”œâ”€â”€ present/
    â”‚   â”œâ”€â”€ 20251201/
    â”‚   â””â”€â”€ 20251208/
    â”œâ”€â”€ previous/
    â”‚   â””â”€â”€ ke30_prev_202412_ì „ì²˜ë¦¬ì™„ë£Œ.csv
    â””â”€â”€ plan/
        â””â”€â”€ plan_202512_ì „ì²˜ë¦¬ì™„ë£Œ.csv
```

---

## âœ… ì¥ì 

### 1. **ë°ì´í„° ê´€ê³„ ëª…í™•ì„±**
- ê°™ì€ ì›”ì˜ ë‹¹ë…„/ì „ë…„/ê³„íš ë°ì´í„°ê°€ í•œ í´ë”ì— ëª¨ì„
- ë°ì´í„° ê°„ ê´€ê³„ íŒŒì•…ì´ ì‰¬ì›€

### 2. **ì›”ë³„ ê´€ë¦¬ ìš©ì´**
- ì›”ì´ ë°”ë€” ë•Œ ìƒˆ í´ë”ë§Œ ìƒì„±
- ì´ì „ ì›” ë°ì´í„° ì •ë¦¬/ë°±ì—…ì´ ì‰¬ì›€

### 3. **ë…¼ë¦¬ì  êµ¬ì¡°**
- ì‹œê°„ ë‹¨ìœ„(ì›”)ë¡œ ë°ì´í„° ê·¸ë£¹í™”
- ì§ê´€ì ì¸ êµ¬ì¡°

### 4. **í™•ì¥ì„±**
- ì›”ë³„ë¡œ ë…ë¦½ì ì¸ êµ¬ì¡°
- íŠ¹ì • ì›”ì˜ ë°ì´í„°ë§Œ ì‚­ì œ/ì´ë™ ê°€ëŠ¥

---

## âš ï¸ ê³ ë ¤ì‚¬í•­

### 1. **í´ë” ê¹Šì´**
```
í˜„ì¬: raw/20251117/ke30_*.csv (2ë‹¨ê³„)
ì œì•ˆ: raw/202511/present/20251117/ke30_*.csv (4ë‹¨ê³„)
```
- ê²½ë¡œê°€ ì•½ê°„ ê¸¸ì–´ì§€ì§€ë§Œ í° ë¬¸ì œëŠ” ì•„ë‹˜

### 2. **ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • í•„ìš”**
- `create_treemap_data.py`ì˜ ê²½ë¡œ ë¡œì§ ìˆ˜ì • í•„ìš”
- í•˜ì§€ë§Œ í•œ ë²ˆë§Œ ìˆ˜ì •í•˜ë©´ ë¨

### 3. **ë‹¹ë…„ ë°ì´í„° ì ‘ê·¼**
- ì£¼ì°¨ë³„ ë°ì´í„° ì ‘ê·¼ ì‹œ ê²½ë¡œê°€ `raw/YYYYMM/present/YYYYMMDD/`ë¡œ ë³€ê²½
- ì½”ë“œì—ì„œ ê²½ë¡œ ìƒì„± ë¡œì§ í•„ìš”

---

## ğŸ”„ ë³µì¡ë„ ë¹„êµ

### í˜„ì¬ êµ¬ì¡°
```
raw/YYYYMMDD/ke30_*.csv
```
- **ë³µì¡ë„: ë‚®ìŒ** (2ë‹¨ê³„)
- **ìœ ì—°ì„±: ì¤‘ê°„** (ì „ë…„/ê³„íš ë°ì´í„° ìœ„ì¹˜ ë¶ˆëª…í™•)

### ì œì•ˆëœ êµ¬ì¡°
```
raw/YYYYMM/present|previous|plan/...
```
- **ë³µì¡ë„: ì¤‘ê°„** (3-4ë‹¨ê³„)
- **ìœ ì—°ì„±: ë†’ìŒ** (ë°ì´í„° íƒ€ì…ë³„ ëª…í™•í•œ êµ¬ë¶„)

### í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì¡° (ì´ì „ ì œì•ˆ)
```
raw/YYYYMMDD/ (ë‹¹ë…„)
raw/previous/YYYYMM/ (ì „ë…„)
raw/plan/YYYYMM/ (ê³„íš)
```
- **ë³µì¡ë„: ì¤‘ê°„** (2-3ë‹¨ê³„)
- **ìœ ì—°ì„±: ë†’ìŒ** (íƒ€ì…ë³„ ë¶„ë¦¬)

---

## ğŸ’¡ ê²°ë¡ : **ì œì•ˆëœ êµ¬ì¡°ëŠ” ë³µì¡í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!**

### ì´ìœ :
1. âœ… **í´ë” ê¹Šì´ê°€ 4ë‹¨ê³„**ì§€ë§Œ, ì´ëŠ” ì¼ë°˜ì ì¸ í”„ë¡œì íŠ¸ì—ì„œ í—ˆìš© ê°€ëŠ¥í•œ ìˆ˜ì¤€
2. âœ… **ë…¼ë¦¬ì  êµ¬ì¡°**ë¡œ ì´í•´í•˜ê¸° ì‰¬ì›€
3. âœ… **ì›”ë³„ ê´€ë¦¬**ê°€ ìš©ì´í•¨
4. âœ… **ë°ì´í„° ê´€ê³„**ê°€ ëª…í™•í•¨

### ë‹¨ì  ë³´ì™„:
- ê²½ë¡œ ìƒì„± ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì½”ë“œ ì¤‘ë³µ ë°©ì§€
- í•œ ë²ˆë§Œ ìˆ˜ì •í•˜ë©´ ì´í›„ ìœ ì§€ë³´ìˆ˜ ìš©ì´

---

## ğŸ”§ êµ¬í˜„ ì˜ˆì‹œ

### ê²½ë¡œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
```python
# scripts/path_utils.py

import os
from datetime import datetime

RAW_DIR = os.path.join(os.path.dirname(os.path.dirname(__file__)), "raw")

def get_current_year_path(date_str: str) -> str:
    """
    ë‹¹ë…„ ë°ì´í„° ê²½ë¡œ
    date_str: YYYYMMDD í˜•ì‹
    """
    year_month = date_str[:6]  # "202511"
    return os.path.join(RAW_DIR, year_month, "present", date_str)

def get_previous_year_path(year_month: str) -> str:
    """
    ì „ë…„ ë°ì´í„° ê²½ë¡œ
    year_month: YYYYMM í˜•ì‹ (ì˜ˆ: "202411")
    """
    return os.path.join(RAW_DIR, year_month[:4] + year_month[4:], "previous")

def get_plan_path(year_month: str) -> str:
    """
    ê³„íš ë°ì´í„° ê²½ë¡œ
    year_month: YYYYMM í˜•ì‹ (ì˜ˆ: "202511")
    """
    return os.path.join(RAW_DIR, year_month, "plan")
```

### ì‚¬ìš© ì˜ˆì‹œ
```python
from path_utils import get_current_year_path, get_previous_year_path, get_plan_path

# ë‹¹ë…„ ë°ì´í„°
current_date = "20251117"
current_path = os.path.join(
    get_current_year_path(current_date),
    f"ke30_{current_date}_{current_date[:6]}_ì „ì²˜ë¦¬ì™„ë£Œ.csv"
)

# ì „ë…„ ë°ì´í„°
prev_year_month = "202411"
previous_path = os.path.join(
    get_previous_year_path(prev_year_month),
    f"ke30_prev_{prev_year_month}_ì „ì²˜ë¦¬ì™„ë£Œ.csv"
)

# ê³„íš ë°ì´í„°
plan_month = "202511"
plan_path = os.path.join(
    get_plan_path(plan_month),
    f"plan_{plan_month}_ì „ì²˜ë¦¬ì™„ë£Œ.csv"
)
```

---

## ğŸ“‹ ìµœì¢… ê¶Œì¥ì‚¬í•­

**ì œì•ˆí•˜ì‹  êµ¬ì¡°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤!**

### ì´ìœ :
1. âœ… **ë³µì¡ë„ê°€ í¬ê²Œ ì¦ê°€í•˜ì§€ ì•ŠìŒ** (4ë‹¨ê³„ëŠ” í—ˆìš© ê°€ëŠ¥)
2. âœ… **ë…¼ë¦¬ì ì´ê³  ì§ê´€ì ì¸ êµ¬ì¡°**
3. âœ… **ì›”ë³„ ê´€ë¦¬ê°€ ìš©ì´**
4. âœ… **ë°ì´í„° ê´€ê³„ê°€ ëª…í™•**

### êµ¬í˜„ ì‹œ ì£¼ì˜ì‚¬í•­:
1. ê²½ë¡œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì½”ë“œ ì¤‘ë³µ ë°©ì§€
2. ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ì˜ ê²½ë¡œ ë¡œì§ì„ í•œ ë²ˆë§Œ ìˆ˜ì •
3. ë°°ì¹˜ íŒŒì¼ë„ ê²½ë¡œ êµ¬ì¡°ì— ë§ê²Œ ìˆ˜ì •

---

## ğŸš€ ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš

### 1ë‹¨ê³„: í´ë” êµ¬ì¡° ìƒì„±
```python
# ê¸°ì¡´ ë°ì´í„°ë¥¼ ìƒˆ êµ¬ì¡°ë¡œ ì´ë™
raw/20251117/ â†’ raw/202511/present/20251117/
raw/202511R_*.csv â†’ raw/202511/plan/
```

### 2ë‹¨ê³„: ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì •
- `process_ke30_current_year.py`: ì¶œë ¥ ê²½ë¡œ ìˆ˜ì •
- `create_treemap_data.py`: ì…ë ¥ ê²½ë¡œ ìˆ˜ì •
- `process_plan_data.py`: ì¶œë ¥ ê²½ë¡œ ìˆ˜ì •

### 3ë‹¨ê³„: í…ŒìŠ¤íŠ¸
- ê¸°ì¡´ ë°ì´í„°ë¡œ í…ŒìŠ¤íŠ¸
- ê²½ë¡œê°€ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸



